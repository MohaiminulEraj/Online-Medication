<%- include('../partials/head.ejs') %>

<%- include('../partials/navbar.ejs') %>

<%- include('../partials/profileView.ejs') %>

<%- include('../partials/profileNavbar.ejs') %>

<style>
    .dropbtn {
        background-color: #04AA6D;
        color: white;
        /* padding: 16px; */
        /* font-size: 16px; */
        text-align: center;
        border: none;
        cursor: pointer;
    }

    .dropdown {
        position: relative;
        display: inline-block;
    }

    .dropdown-content {
        display: none;
        position: absolute;
        right: 0;
        background-color: #f9f9f9;
        min-width: 360px;
        box-shadow: 0px 8px 16px 0px rgba(0, 0, 0, 0.2);
        z-index: 1;
    }

    .dropdown-content a {
        color: black;
        padding: 12px 16px;
        text-decoration: none;
        display: block;
    }

    .dropdown-content a:hover {
        background-color: #f1f1f1;
    }

    .dropdown:hover .dropdown-content {
        display: block;
    }

    .dropdown:hover .dropbtn {
        background-color: #3e8e41;
    }
</style>

<div class="container-fluid rounded my-2">
    <div class="row">
            <h3 class="col-sm-8">Check Prescriptions</h3>
        <div class="input-group col-sm-4 my-1">
            <input class="form-control" type="search" placeholder="search">
            <span class="input-group-append">
              <button class="form-control btn btn-outline-secondary" type="button">
                  <i class="fa fa-search"></i>
              </button>
            </span>
      </div>
    </div>
</div>

<table id="precribeTable" class="container table table-dark">
    <thead>
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Prescribed Date</th>
            <th scope="col">View</th>
            <th style="width:  1%" scope="col">Option</th>
        </tr>
    </thead>
    <tbody id="productList">
        <tr>
            <td><input type="button" class="form-control" name="disease_name[]" value="Disease Name" id='diseasename-0'>
            </td>
            <td><input type="button" class="form-control" value="<%= new Date().toDateString() %>" name=""></td>

            <td><button data-toggle="modal" data-target="#prescribeFormModal" class="form-control btn btn-info"><i
                        class="fas fa-eye fa-lg"></i></button>
            </td>
            <td class="dropdown">
                <input type="button" class="form-control dropbtn btn btn-warning" name="" id="" value="...">
                <div class="dropdown-content">
                    <a href="#" data-toggle="modal" data-target="#getDrugsModal">GET DRUGS</a>
                </div>
            </td>
        </tr>

        <tr>
            <td><input type="button" class="form-control" name="disease_name[]"
                    value="Disease Name sdgsdgsdgsd gsdgsdgdg" id='diseasename-0'>
            </td>
            <td><input type="button" class="form-control" value="<%= new Date().toDateString() %>" name=""></td>

            <td><button data-toggle="modal" data-target="#prescribeFormModal" class="form-control btn btn-info"><i
                        class="fas fa-eye fa-lg"></i></button>
            </td>
            <td class="dropdown">
                <input type="button" class="form-control dropbtn btn btn-warning" name="" id="" value="...">
                <div class="dropdown-content">
                    <a href="#" data-toggle="modal" data-target="#getDrugsModal">GET DRUGS</a>
                </div>
            </td>
        </tr>
    </tbody>
</table>

<!-- Prescribed Modal  -->

<div class="modal fade" id="prescribeFormModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
    aria-hidden="true">
    <div class="modal-dialog modal-lg" style="margin-top: 17%;">
        <div class="modal-content">
            <div class="modal-body form-modal">
                <form action="">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                            aria-hidden="true">&times;</span></button>
                    <h4>Check Prescription</h4>
                    <div class="row">
                        <div class="col-sm-9 mb-2">
                            <div>
                                <label for="patientName">Patient Name</label>
                                <input id="patientName" class="form-control rounded col-xs-12" type="text"
                                    placeholder="Patient Name" disabled>

                            </div>
                        </div>
                        <div class="col-sm-3 mb-2">
                            <label for="tDate">Date</label>
                            <input id="tDate" class="form-control" type="text" class="form-control rounded"
                                name="prescribedDate" value="<%= new Date().toDateString() %>" disabled>
                        </div>
                        <div class="col-sm-3 mb-2">
                            <div>
                                <label for="pDOB">Date Of Birth</label>
                                <input id="pDOB" class="form-control rounded col-xs-12" type="date"
                                    placeholder="Date of Birth" disabled>
                            </div>
                        </div>
                        <div class="col-sm-3 mb-2">
                            <label for="pAge">Age</label>
                            <input id="pAge" type="number" class="form-control rounded" name="patientAge"
                                placeholder="Age" value="" disabled>
                        </div>
                        <div class="col-sm-3 mb-2">
                            <label for="pSex">Sex</label>
                            <input id="pSex" type="text" class="form-control rounded" name="paitientSex"
                                placeholder="Sex" value="" disabled>
                        </div>
                        <div class="col-sm-3 mb-2">
                            <label for="pOccupation">Occupation</label>
                            <input id="pOccupation" type="text" class="form-control rounded" name="paitientOccupation"
                                placeholder="Occupation" value="" disabled>
                        </div>
                        <div class="col-sm-9 mb-2">
                            <label for="pAddress">Address</label>
                            <input id="pAddress" type="text" class="form-control rounded" name="paitientOccupation"
                                placeholder="Address" value="" disabled>
                        </div>
                        <div class="col-sm-3 mb-2">
                            <label for="pPhoneNum">Cell No</label>
                            <input id="pPhoneNum" type="number" class="form-control rounded" name="paitientOccupation"
                                placeholder="Phone Number" value="" disabled>
                        </div>
                        <div class="col-sm-12 mb-2">
                            <label for="pPhoneNum">Prescribed By</label>
                            <input id="pPhoneNum" type="number" class="form-control rounded" name="paitientOccupation"
                                placeholder="Consultant Doctor" value="" disabled>
                        </div>
                        <div class="col-sm-12 text-center col-xs-height">
                            <div>
                                <input id="dName" class="form-control rounded col-xs-12 mb-2" type="text"
                                    name="diseaseName" placeholder="Disease Name" value="" disabled>
                                <textarea class="form-control rounded mb-2" name="" id="" cols="30" rows="3"
                                    name="diseaseName" placeholder="Disease Description" disabled></textarea>
                            </div>
                        </div>

                        <div class="col-sm-12 col-xs-height">
                            <div>
                                <ul class="row list-unstyled" id="medicineList">
                                    <li class="col-sm-6 mb-2">
                                        <label for="medicineName">Madicne Name:</label>
                                        <input id="medicineName" type="text" class="form-control rounded"
                                            name="medicineName" value="" placeholder="Medecine" disabled>
                                    </li>
                                    <li class="col-sm-6 mb-2">
                                        <label for="dRange">Date Range</label>
                                        <input id="dRange" type="date" class="form-control rounded" name="dateRange"
                                            value="" placeholder="Date Range" disabled>
                                    </li>
                                    <li class="col-sm-12 mb-1">
                                        <label for="">Time:</label>
                                    </li>
                                    <li class="col-sm-6 mb-2">
                                        <input class="form-control rounded" type="time" disabled>
                                    </li>
                                    <li class="col-sm-6 mb-2">
                                        <input class="form-control rounded" type="time" disabled>
                                    </li>
                                    <li class="col-sm-6 mb-2">
                                        <input class="form-control rounded" type="time" disabled>
                                    </li>
                                    <li class="col-sm-6 mb-2">
                                        <input class="form-control rounded" type="time" disabled>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </form>
            </div>

        </div>
    </div>
</div>

<!-- Get Drugs -->

<div class="modal fade" id="getDrugsModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
    aria-hidden="true">
    <div class="modal-dialog modal-lg" style="margin-top: 17%;">
        <div class="modal-content">
            <div class="modal-body form-modal">
                <form action="">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                            aria-hidden="true">&times;</span></button>
                    <h4>Purchase Drugs</h4>
                    <div class="row">
                        <div class="col-sm-9 mb-2">
                            <div>
                                <label for="patientName">Patient Name:</label>
                                <input id="patientName" class="form-control rounded col-xs-12" type="text"
                                    placeholder="Patient Name" disabled>

                            </div>
                        </div>
                        <div class="col-sm-3 mb-2">
                            <label for="tDate">Date:</label>
                            <input id="tDate" class="form-control" type="text" class="form-control rounded"
                                name="prescribedDate" value="<%= new Date().toDateString() %>" disabled>
                        </div>
                        <div class="col-sm-3 mb-2">
                            <div>
                                <label for="pDOB">Date Of Birth:</label>
                                <input id="pDOB" class="form-control rounded col-xs-12" type="date"
                                    placeholder="Date of Birth" disabled>
                            </div>
                        </div>
                        <div class="col-sm-3 mb-2">
                            <label for="pAge">Age:</label>
                            <input id="pAge" type="number" class="form-control rounded" name="patientAge"
                                placeholder="Age" value="" disabled>
                        </div>
                        <div class="col-sm-3 mb-2">
                            <label for="pSex">Sex</label>
                            <input id="pSex" type="text" class="form-control rounded" name="paitientSex"
                                placeholder="Sex" value="" disabled>
                        </div>
                        <div class="col-sm-3 mb-2">
                            <label for="pOccupation">Occupation:</label>
                            <input id="pOccupation" type="text" class="form-control rounded" name="paitientOccupation"
                                placeholder="Occupation" value="" disabled>
                        </div>
                        <div class="col-sm-9 mb-2">
                            <label for="pAddress">Address:</label>
                            <input id="pAddress" type="text" class="form-control rounded" name="paitientOccupation"
                                placeholder="Address" value="" disabled>
                        </div>
                        <div class="col-sm-3 mb-2">
                            <label for="pPhoneNum">Cell No:</label>
                            <input id="pPhoneNum" type="number" class="form-control rounded" name="paitientOccupation"
                                placeholder="Phone Number" value="" disabled>
                        </div>
                        <div class="col-sm-12 mb-2">
                            <label for="pPhoneNum">Prescribed By:</label>
                            <input id="pPhoneNum" type="number" class="form-control rounded" name="paitientOccupation"
                                placeholder="Consultant Doctor" value="" disabled>
                        </div>
                        <div class="col-sm-12 text-center col-xs-height">
                            <div>
                                <input id="dName" class="form-control rounded col-xs-12 mb-2" type="text"
                                    name="diseaseName" placeholder="Disease Name" value="" disabled>
                                <textarea class="form-control rounded mb-2" name="" id="" cols="30" rows="3"
                                    name="diseaseName" placeholder="Disease Description" disabled></textarea>
                            </div>
                        </div>

                        <div class="col-sm-12 col-xs-height">
                            <div>
                                <ul class="row list-unstyled" id="medicineList">
                                    <li class="col-sm-6 mb-2">
                                        <label for="medicineName">Madicne Name:</label>
                                        <input id="medicineName" type="text" class="form-control rounded"
                                            name="medicineName" value="" placeholder="Medecine" disabled>
                                    </li>
                                    <li class="col-sm-3 mb-2">
                                        <label for="medicineAmount">Amount:</label>
                                        <input id="medicineAmount" type="number" class="form-control rounded"
                                            name="medicineAmount" value="" placeholder="Medicine Amount" required>
                                    </li>
                                    <li class="col-sm-3 mb-2">
                                        <label for="medicinePrice">Price:</label>
                                        <input id="medicinePrice" type="text" class="form-control rounded"
                                            name="medicinePrice" value="" placeholder="Medicine Price" disabled>
                                    </li>
                                    <li class="col-sm-12 mb-2">
                                        <label for="medicineTotalPrice">Total price:</label>
                                        <input id="medicineTotalPrice" type="text" class="form-control rounded"
                                            name="medicineTotalPrice" value="50" placeholder="Total Price" disabled>
                                        <small>Note that 50 tk delivery charge is added to bill</small>
                                    </li>
                                    <li class="col-sm-4 mb-2">
                                        <input class="form-check-input ml-2 mt-3 mb-0" onClick="getSelectedField()"
                                            id="r1" type="radio" name="inlineRadioOptions">
                                        <select style="margin-left: 24px; width:93%;" class="form-control"
                                            name="findDrugStore" id="findDrugStore">
                                            <option value="1" selected="selected" disabled>Find Drug Store:</option>
                                            <option>2</option>
                                            <option>3</option>
                                            <option>4</option>
                                            <option>5</option>
                                        </select>
                                    </li>
                                    <li class="col-sm-4 mb-2 form-check form-switch">
                                        <input class="form-check-input mt-3 mb-0" onClick="getSelectedField()"
                                            type="radio" onClick="getSelectedField()" id="r2" name="inlineRadioOptions">
                                        <input id="newDragStoreEmail" type="email" class="form-control rounded"
                                            name="newDragStoreEmail" value="" placeholder="Email your drug store">
                                    </li>
                                    <li class="form-check form-switch col-sm-4 mt-2">
                                        <input class="form-check-input" onClick="getSelectedField()" id="r3"
                                            type="radio" name="inlineRadioOptions">
                                        <label class="form-check-label" for="r3">Recommended Drug Store</label>
                                    </li>
                                </ul>
                            </div>
                            <div>
                                <button style="float: right" class="btn btn-success" type="submit">Sent</button>
                            </div>
                        </div>
                    </div>
                </form>
            </div>

        </div>
    </div>
</div>

<script>
    function getSelectedField() {
        if (document.getElementById('r1').checked) {
            document.getElementById("findDrugStore").disabled = false;
            document.getElementById("newDragStoreEmail").disabled = true;
            if (document.getElementById("newDragStoreEmail").value.length > 0) {
                document.getElementById("newDragStoreEmail").value = "";
            }
        }
        if (document.getElementById('r2').checked) {
            document.getElementById("findDrugStore").disabled = true;
            document.getElementById("newDragStoreEmail").disabled = false;
            document.querySelector('option[value="1"]').selected = true;
        }
        if (document.getElementById('r3').checked) {
            document.getElementById("newDragStoreEmail").disabled = true;
            document.getElementById("findDrugStore").disabled = true;
            if (document.getElementById("newDragStoreEmail").value.length > 0) {
                document.getElementById("newDragStoreEmail").value = "";
            }
            document.querySelector('option[value="1"]').selected = true;
        }
    }
</script>

<%- include('../partials/footer.ejs') %>